#include "../Socket/Socket.h"
#include "../Exception/Exception.h"
#include <iostream>

using nar::Socket;
using std::cout;
using std::endl;

int main() {
    try{
        boost::asio::io_service& io_serv;
        Socket cli(io_serv,'c');
        cli.connect(std::string("127.0.0.1"),12345);
        cli.send("Fatih var ya hayvan :)", 22);

        char *buf = new char(250);
        cli.recv(buf,250);
        cout << 250 << endl;
        cli.close();
    }
    catch (const nar::Exception::ExcpBase e) {
        cout << e.what() << endl;
    }
    return 0;
}
